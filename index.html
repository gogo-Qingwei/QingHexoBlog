<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Qing&#39;s Journey</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="test,test2" />
  
  
  
  
  <meta name="description" content="Coding &amp; Modeling">
<meta property="og:type" content="website">
<meta property="og:title" content="Qing&#39;s Journey">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Qing&#39;s Journey">
<meta property="og:description" content="Coding &amp; Modeling">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Qing&#39;s Journey">
<meta name="twitter:description" content="Coding &amp; Modeling">
  
    <link rel="alternate" href="/atom.xml" title="Qing&#39;s Journey" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/home.css" >
  

  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/trianglify/0.4.0/trianglify.min.js"></script>
  

  

  
  
  

</head>



  <body>


  
    <header id="header">

	<!-- 背景图模式 -->
	

    
      <div id="intrologo" class="intro-logo">
    
 


    <canvas width="100%" height="100%"></canvas>
    <script>
      var c = document.getElementsByTagName('canvas')[0],
          x = c.getContext('2d'),
          w = window.innerWidth,
          h = window.innerHeight,
          pr = window.devicePixelRatio || 1,
          f = 90,
          q,
          m = Math,
          r = 0,
          u = m.PI*2,
          v = m.cos,
          z = m.random
      c.width = w*pr
      c.height = h*pr
      x.scale(pr, pr)
      x.globalAlpha = 0.6

      <!-- 折线Polyline背景 -->
      
		 function redraw(){
		 	var pattern = Trianglify({
				width: window.innerWidth,
				height: window.innerHeight
			});
            pattern.canvas(c)
        }
        document.getElementById("intrologo").onclick = redraw
        document.getElementById("intrologo").ontouchstart = redraw
		redraw()
      
    </script>
    

    
      <div id="homelogo" class="homelogo" style="background: rgba(255,255,255,1);"> 
    

        
          <div class="homelogoback"  style="border: 1px solid #404040;" >
            <h1><a href="#content" id="logo">Qing&#39;s Journey</a></h1>
            <h3>Coding &amp; Modeling</h3>
            <h5>Qing Wei</h5>
            <!-- <p><a href="https://github.com/iTimeTraveler" target="_blank">Github</a></p> -->
          </div>
        
    
    </div>
  </div>

  <!-- 自适应主页背景大图 -->
  

 <!-- home_logo_image居中 -->
 
    <script>
        var homelogodiv = document.getElementById("homelogo");
        if (document.all.homelogo.offsetWidth > document.body.clientWidth) {
          homelogodiv.style.width = document.body.clientWidth + "px";
          homelogodiv.style.marginLeft = document.body.clientWidth * -0.5 + "px";
        } else {
          homelogodiv.style.width = homelogodiv.clientWidth  + "px";
          homelogodiv.style.marginLeft = (homelogodiv.clientWidth)  * -0.5 + "px";
        }
    </script>
  

  <div class="intro-navigate">
      <p class="navigater-list">
        
          <a id="beautifont" class="main-nav-link" href="/">Home</a>
        
          <a id="beautifont" class="main-nav-link" href="/tags">Tags</a>
        
          <a id="beautifont" class="main-nav-link" href="/archives">Archives</a>
        
          <a id="beautifont" class="main-nav-link" href="/categories">Categories</a>
        
          <a id="beautifont" class="main-nav-link" href="/about">About</a>
        
      </p>
  </div>

</header>
  
  <div id="container">
    <div id="wrap">
      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
  
    <article id="post-02112018-1336"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/02/11/02112018-1336/">The Zen of Python by Time Peters</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/02/11/02112018-1336/" class="article-date">
	  <time datetime="2018-02-11T18:36:45.000Z" itemprop="datePublished">2018-02-11</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Beautiful is better than ugly.<br>Explicit is better than implicit.<br>Simple is better than complex.<br>Complex is better than complicated.<br>Flat is better than nested.<br>Sparse is better than dense.<br>Readability counts.<br>Special cases aren’t special enough to break the rules.<br>Although practicality beats purity.<br>Errors should never pass silently.<br>Unless explicitly silenced.<br>In the face of ambiguity, refuse the temptation to guess.<br>There should be one– and preferably only one –obvious way to do it.<br>Although that way may not be obvious at first unless you’re Dutch.<br>Now is better than never.<br>Although never is often better than <em>right</em> now.<br>If the implementation is hard to explain, it’s a bad idea.<br>If the implementation is easy to explain, it may be a good idea.<br>Namespaces are one honking great idea – let’s do more of those!</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference:"></a>Reference:</h3><p>The Hitchhiker’s Guide to Python</p>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-02012018-2301"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/02/01/02012018-2301/">给博客换模板 - From Jekyll To Hexo</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/02/01/02012018-2301/" class="article-date">
	  <time datetime="2018-02-02T04:01:25.000Z" itemprop="datePublished">2018-02-01</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="契机"><a href="#契机" class="headerlink" title="契机"></a>契机</h5><p>使用Jekyll模板已经两年了，期间修修改改，已经完全看不出其中的结构，完全不想再碰。正好看中了更顺眼的Hexo Theme，干脆来个一次性大换血，也顺便整理一下这几年来的总结。</p>
<p>Jekyll已经乱成了这样，大量的文件被放在总目录下，杂乱无章：</p>
<pre><code>builderqing.github.io-directory-tree/
├── ._config.yml
├── _data
├── _includes
├── _layouts
├── _sass
├── _templates
├── dataset
├── gallery
├── image
└── project
</code></pre><p>新建的Hexo使用了hiker theme，好看又好用：</p>
<pre><code>builderqing.github.io-directory-tree/
├── ._config.yml
├── public
├── scaffolds
├── source
└── themes
</code></pre><h5 id="如何解决代码块中出现垂直代码块-vertical-scroll-bar-的方法"><a href="#如何解决代码块中出现垂直代码块-vertical-scroll-bar-的方法" class="headerlink" title="如何解决代码块中出现垂直代码块(vertical scroll bar)的方法"></a>如何解决代码块中出现垂直代码块(vertical scroll bar)的方法</h5><p>模板中如果使用 ``` 来引用code块， 有点不好看。 我改了一下css文件， 步骤如下：</p>
<ol>
<li>打开文件themes/hiker/source/css/_partial/highlight.styl</li>
<li>找到代码块，并做以下的修改</li>
<li>使用``` 来高亮代码块</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$code-block</span><br><span class="line">  background: $highlight-background</span><br><span class="line">  <span class="selector-tag">margin</span>: <span class="selector-tag">article-padding</span> <span class="selector-tag">article-padding</span> * 0</span><br><span class="line">  <span class="selector-tag">padding</span>: 15<span class="selector-tag">px</span> <span class="selector-tag">article-padding</span></span><br><span class="line">  <span class="selector-tag">border-style</span>: <span class="selector-tag">solid</span></span><br><span class="line">  <span class="selector-tag">border-color</span>: <span class="selector-tag">color-border</span></span><br><span class="line">  <span class="selector-tag">border-width</span>: 1<span class="selector-tag">px</span> 0</span><br><span class="line">  <span class="comment">/*change*/</span></span><br><span class="line">  <span class="selector-tag">overflow</span>: <span class="selector-tag">auto</span></span><br><span class="line">  <span class="selector-tag">overflow-y</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">  <span class="comment">/*end change*/</span></span><br><span class="line">  color: $highlight-foreground</span><br><span class="line">  <span class="selector-tag">font-size</span>: 0<span class="selector-class">.9em</span>;</span><br><span class="line">  <span class="selector-tag">line-height</span>: 1<span class="selector-tag">em</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Jekyll/">Jekyll</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-02052018-1745"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/01/02/02052018-1745/">Basic SQL and Advanced SQL Notes</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/01/02/02052018-1745/" class="article-date">
	  <time datetime="2017-01-02T20:00:00.000Z" itemprop="datePublished">2017-01-02</time>
	</a>

      
    <a class="article-category-link" href="/categories/SQL/">SQL</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="SQL-Syntax"><a href="#SQL-Syntax" class="headerlink" title="SQL Syntax"></a>SQL Syntax</h4><p><strong>DATABASE</strong>: Database is a collection of data stored in some organized fashion.<br><strong>DATABASE MANAGEMENT SYSTEM(DBMS)</strong>: Database software, we manipulate data via DBMS.<br><strong>TABLE</strong>: Table is a structured file that store data for a specific type. The table name is always unique - meaning no other table in that database can have the same name.<br><strong>SCHEMA</strong>: Information about database and table layout and properties.<br><strong>COLUMN</strong>: Tables are made up of columns.  Each column in a database has an associated data type.<br><strong>DATA TYPE</strong>:   a type of allowed data. Data types restrict the type of data that can be stored in a column.<br><strong>ROW</strong>:   Data in a table is stored in rows.<br><strong>PRIMARY KEY</strong>:   A column(or columns) whose values uniquely identify every row in a table. No null values</p>
<h5 id="Select-Rows"><a href="#Select-Rows" class="headerlink" title="Select Rows"></a>Select Rows</h5><blockquote>
<p> How to use the SQL SELECT statement to retrieve a single table columns?</p>
</blockquote>
<ul>
<li>Multiple SQL statements must be separated by semicolons</li>
<li>SQL statements are case-insensitive, while the names of tables, columns and values are not.</li>
<li>All extra white space within a SQL Statement is ignored when that statement is processed.</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--select one column </span></span><br><span class="line"><span class="keyword">Select</span> column_name</span><br><span class="line"><span class="keyword">From</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Select multiple columns </span></span><br><span class="line"><span class="keyword">Select</span> column_name1,column_name2,column_name3</span><br><span class="line"><span class="keyword">From</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Select all columns </span></span><br><span class="line"><span class="keyword">SELECT</span>  *</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Select distinct rows  </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> column_name</span><br><span class="line"><span class="keyword">FROM</span> Products;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Select limit results </span></span><br><span class="line"><span class="keyword">SELECT</span> column1,column2,...</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">table</span> </span><br><span class="line"><span class="keyword">LIMIT</span> <span class="keyword">offset</span> , <span class="keyword">count</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">Select</span>  column_name</span><br><span class="line"><span class="keyword">From</span> Products</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line"><span class="keyword">Limit</span> <span class="number">5</span> <span class="keyword">offset</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<h5 id="Order-By-Rows"><a href="#Order-By-Rows" class="headerlink" title="Order By Rows"></a>Order By Rows</h5><blockquote>
<p>ORDER BY clause is the last clause in your SELECT statement. (put it at the end)</p>
</blockquote>
<ul>
<li>ASC = Ascending order(default), DESC=Descending order</li>
<li>Using FIELD() function to define your own custom sort order, not ASC or DESC </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Sorting data  </span></span><br><span class="line"><span class="keyword">Select</span> column_name</span><br><span class="line"><span class="keyword">From</span> Products</span><br><span class="line"><span class="keyword">Order</span> <span class="keyword">by</span> column_name</span><br><span class="line"></span><br><span class="line"><span class="comment">--Sorting by multiple columns </span></span><br><span class="line"><span class="keyword">Select</span> column_name1,column_name2,column_name3</span><br><span class="line"><span class="keyword">From</span> Products</span><br><span class="line"><span class="keyword">Order</span> <span class="keyword">by</span> column_name2,column_name3</span><br><span class="line"><span class="keyword">OR</span></span><br><span class="line"><span class="keyword">Select</span> column_name1,column_name2,column_name3</span><br><span class="line"><span class="keyword">From</span> Products</span><br><span class="line"><span class="keyword">Order</span> <span class="keyword">by</span> <span class="number">2</span>,<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--Sorting different direction </span></span><br><span class="line"><span class="keyword">Select</span> column_name1,column_name2,column_name3</span><br><span class="line"><span class="keyword">From</span> Products</span><br><span class="line"><span class="keyword">Order</span> <span class="keyword">by</span> <span class="number">2</span> <span class="keyword">DESC</span>, <span class="number">3</span> <span class="keyword">ASC</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Sorting by custom order select orderNumber,status</span></span><br><span class="line">From orders</span><br><span class="line">order by FIELD(status, </span><br><span class="line">'In Process',</span><br><span class="line">'On Hold',</span><br><span class="line">'Cancelled',</span><br><span class="line">'Resolved',</span><br><span class="line">'Disputed',</span><br><span class="line">'Shipped');</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONCAT</span>(prefix, suffix)</span><br><span class="line"><span class="keyword">FROM</span> items</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> prefix, suffix;</span><br></pre></td></tr></table></figure>
<h5 id="Search-Rows"><a href="#Search-Rows" class="headerlink" title="Search Rows"></a>Search Rows</h5><blockquote>
<p> If we want to extract subset of the table’s data as needed for specific operations or reports. </p>
</blockquote>
<ul>
<li>WHERE is used not only with the SELECT but also DELETE and UPDATE</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Select special items  </span></span><br><span class="line"><span class="keyword">SELECT</span> column_name1,column_name2  </span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name1 = <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Check for no value  </span></span><br><span class="line"><span class="keyword">SELECT</span>  column_name </span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">column</span> _name <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">------</span></span><br><span class="line">= : Equal </span><br><span class="line">&lt;&gt; :  Not equal. Note: In some versions of SQL this operator may be written as != </span><br><span class="line">&gt; : Greater than  </span><br><span class="line">&lt; : Less than </span><br><span class="line">&gt;= : Greater than or equal </span><br><span class="line">&lt;= : Less than or equal  </span><br><span class="line"></span><br><span class="line">BETWEEN : Between an inclusive range (range)  </span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employee_tbl </span><br><span class="line"><span class="keyword">WHERE</span> daily_typing_pages <span class="keyword">BETWEEN</span> <span class="number">170</span> <span class="keyword">AND</span> <span class="number">300</span>; </span><br><span class="line"></span><br><span class="line">LIKE : Search for a pattern   </span><br><span class="line">LIKE '%$_20%' ESCAPE '$'</span><br><span class="line"><span class="comment">--or</span></span><br><span class="line">LIKE '%\$_20%' TO escape character</span><br><span class="line"></span><br><span class="line">IN : To specify multiple possible values for a column  </span><br><span class="line"><span class="keyword">SELECT</span> firstname, city, state</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> state <span class="keyword">IN</span> (<span class="string">'Arizona'</span>, <span class="string">'Washington'</span>, <span class="string">'Oklahoma'</span>, <span class="string">'Colorado'</span>, <span class="string">'Hawaii'</span>);</span><br><span class="line"></span><br><span class="line">IS NULL: To test whether a value is NULL or not</span><br></pre></td></tr></table></figure>
<h5 id="Boolean-Operation"><a href="#Boolean-Operation" class="headerlink" title="Boolean Operation"></a>Boolean Operation</h5><blockquote>
<p>If we want to extract subset of the table’s data as needed for specific operations or reports.</p>
</blockquote>
<ul>
<li>The single quotes are used to delimit a string.</li>
<li>The IN operator is the same as OR</li>
<li>IN takes a comma-delimited list of valid values, all enclosed within parentheses</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Using the AND(RANK HIGHER)  </span></span><br><span class="line"><span class="keyword">SELECT</span> column_name1,column_name2</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name1 = number1 <span class="keyword">AND</span> column_name2 = number2;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Using the OR  </span></span><br><span class="line"><span class="keyword">SELECT</span> column_name1,column_name2</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name1 = number1 <span class="keyword">OR</span> column_name2 = number2;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Using the IN  </span></span><br><span class="line"><span class="comment">--Far cleaner and easier to read  </span></span><br><span class="line"><span class="comment">--Easier to manage  </span></span><br><span class="line"><span class="comment">--Can contain another SELECT</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name1,column_name2</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name1 <span class="keyword">IN</span> (val1,val2)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--Using the NOT </span></span><br><span class="line"><span class="comment">--Used before the column to filter on </span></span><br><span class="line"><span class="keyword">SELECT</span> column_name1,column_name2</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name1 <span class="keyword">NOT</span> <span class="keyword">IN</span> (val1,val2)</span><br><span class="line"></span><br><span class="line"><span class="comment">--Using the Exist </span></span><br><span class="line"><span class="keyword">SELECT</span> employeenumber, firstname, lastname, extension</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">exists</span>(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">FROM</span> offices</span><br><span class="line"><span class="keyword">WHERE</span> city = <span class="string">'San Francisco'</span> <span class="keyword">and</span> offices.officeCode = employees.officeCode);</span><br></pre></td></tr></table></figure>
<h5 id="Like-and-Wildcard-Rows"><a href="#Like-and-Wildcard-Rows" class="headerlink" title="Like and Wildcard Rows"></a>Like and Wildcard Rows</h5><blockquote>
<p>How to create search pattern to compare against your data?</p>
</blockquote>
<ul>
<li>% represents zero, one, or more characters at the specified location in the search pattern. don’t overuse wildcats for processing takes long time</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Percent sign(%)  </span></span><br><span class="line"><span class="comment">--Match any number of occurrences of any character</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--accept any characters after the word 'Fish'</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name</span><br><span class="line"><span class="keyword">LIKE</span> <span class="string">'Fish%'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--accept any characters before or after the word 'Fish'</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name</span><br><span class="line"><span class="keyword">LIKE</span> <span class="string">'%Fish%'</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">--accept any products that begin with F and end with a i</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> column_name</span><br><span class="line"><span class="keyword">LIKE</span> <span class="string">'F%i'</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">--Underscore(_)  </span></span><br><span class="line"><span class="comment">--a single character matching</span></span><br><span class="line"><span class="keyword">SELECT</span>  column_name</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">column</span> _name <span class="keyword">LIKE</span> <span class="string">'_ inch'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--Brackets([])</span></span><br><span class="line"><span class="comment">--specify a set of characters </span></span><br><span class="line"><span class="comment">--start with J or M</span></span><br><span class="line"><span class="keyword">SELECT</span>  column_name</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span>  column_name <span class="keyword">LIKE</span> <span class="string">'[JM]%'</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span>  column_name</span><br></pre></td></tr></table></figure>
<h5 id="Aliases-and-Concat-columns"><a href="#Aliases-and-Concat-columns" class="headerlink" title="Aliases and Concat columns"></a>Aliases and Concat columns</h5><blockquote>
<p>Aliases can be used when you create a calculated field, renaming a column if the real table column name contains illegal characters, or changing the ambiguous name.</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Concatenate   </span></span><br><span class="line"><span class="comment">--Joining values together to form a single long value. Join column and column </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">concat</span>(vend_name, <span class="string">' ('</span> , vend_country ,<span class="string">')'</span>)</span><br><span class="line"><span class="keyword">FROM</span> Vendors</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Trim the padding space  </span></span><br><span class="line"><span class="comment">--RTRIM() trims all space from the right of a value</span></span><br><span class="line"><span class="comment">--LTRIM() trim all the left side of a string</span></span><br><span class="line"><span class="comment">--TRIM() trims both the right and left</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--Alias</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">AS</span> aliases</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--SQL Mathematical operators  </span></span><br><span class="line">+ ：addition</span><br><span class="line">- ： Subtraction</span><br><span class="line">* ： Multiplication</span><br><span class="line">/ ：Division</span><br></pre></td></tr></table></figure>
<h5 id="Mathematic-Functions"><a href="#Mathematic-Functions" class="headerlink" title="Mathematic Functions"></a>Mathematic Functions</h5><blockquote>
<p>Very few functions are supported identically by all major DBMSs. We can functions in other parts of the SELECT statement, as well as in other SQL statements.</p>
</blockquote>
<p><a href="https://www.tutorialspoint.com/sql/sql-string-functions.htm" target="_blank" rel="noopener">More Text Manipulation details</a><br><a href="https://www.tutorialspoint.com/sql/sql-numeric-functions.htm" target="_blank" rel="noopener">More Numerical Manipulation details</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Text manipulation functions </span></span><br><span class="line"><span class="comment">--convert text to upper case</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name1, <span class="keyword">UPPER</span>(column_name2)</span><br><span class="line"></span><br><span class="line"><span class="comment">--SOUNDEX takes into account similar sounding characters and syllables, enabling strings to be compared by how they sound rather than how they have been typed.</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name1,column_name2</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">SOUNDEX</span>(column_name1) = <span class="keyword">soundex</span>(<span class="string">'name'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--Date and time manipulation functions  </span></span><br><span class="line"><span class="comment">--in MySQL and MariaDB Numeric manipulation functions  </span></span><br><span class="line"><span class="keyword">SELECT</span> order_num</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">year</span>(order_date) = <span class="number">2012</span></span><br></pre></td></tr></table></figure>
<h5 id="Aggregate-Functions"><a href="#Aggregate-Functions" class="headerlink" title="Aggregate Functions"></a>Aggregate Functions</h5><blockquote>
<p>These functions enable you to perform all the types of retrieval just enumerated</p>
</blockquote>
<ul>
<li>All ignore NULL values</li>
<li><a href="https://community.modeanalytics.com/sql/tutorial/sql-aggregate-functions/" target="_blank" rel="noopener">More Aggregate details</a></li>
</ul>
<h5 id="Group-By-and-Having"><a href="#Group-By-and-Having" class="headerlink" title="Group By and Having"></a>Group By and Having</h5><blockquote>
<p>You can perform aggregate calculations on each group.</p>
</blockquote>
<ul>
<li>GROUP BY clause must come after any WHERE clause and before any ORDER BY clause</li>
<li>WHERE filters rows and HAVING filters groups.</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    c1, c2,..., cn, aggregate_function(ci)</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    <span class="keyword">table</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    where_conditions</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> c1 , c2,...,cn;</span><br><span class="line"></span><br><span class="line"><span class="comment">--HAVING &amp; WHERE  </span></span><br><span class="line"><span class="comment">--HAVING is very similar to WHERE. The only difference is that WHERE filters rows and HAVING filters groups.</span></span><br><span class="line"><span class="keyword">SELECT</span> vend_id, <span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> num_prods</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">WHERE</span> prod_price &gt;= <span class="number">4</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> vend_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt;= <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--ORDER BY &amp; GROUP BY </span></span><br><span class="line"><span class="comment">--As a rule, anytime you use a GROUP BY clause, you should also specify an ORDER --BY clause. That is the only way to ensure that data will be sorted properly. Never rely --on GROUP BY to sort your data.</span></span><br></pre></td></tr></table></figure>
<h5 id="Subqueries"><a href="#Subqueries" class="headerlink" title="Subqueries"></a>Subqueries</h5><blockquote>
<p>Subqueries are queries that are embedded into other queries.</p>
</blockquote>
<p>Subqueries is nested inside another query such as SELECT, INSERT, UPDATE, DELETE.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Subqueries </span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_state,</span><br><span class="line">(<span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*)</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">WHERE</span> Orders.cust_id = Customers.cust_id) <span class="keyword">AS</span> orders</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> cust_name;</span><br></pre></td></tr></table></figure>
<h5 id="Join"><a href="#Join" class="headerlink" title="Join"></a>Join</h5><blockquote>
<p>If we want to retrieve data in multiple tables with a single SELECT statement, Use JOIN</p>
</blockquote>
<ul>
<li>A well-designed database or application is said to scale well.</li>
<li>JOIN clause is not a physical entity, and is created by the DBMS as needed. </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Creating a join </span></span><br><span class="line"><span class="comment">--inner join</span></span><br><span class="line"><span class="keyword">SELECT</span> vend_name, prod_name, prod_price</span><br><span class="line"><span class="keyword">FROM</span> Vendors,Products</span><br><span class="line"><span class="keyword">WHERE</span> Vendors.vend_id = Products.vend_id  </span><br><span class="line"></span><br><span class="line"><span class="comment">--Cartesian product The results returned by a table relationship without a join condition. --The number of rows retrieved will be the number of rows in the first table multiplied by --the number of rows in the second table. Sometimes you’ll hear the type of join that --returns a Cartesian Product referred to as a cross join.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--inner join</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s) </span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column_name=table2.column_name;</span><br><span class="line"><span class="comment">--or </span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column_name=table2.column_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">--left join</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s) </span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column_name=table2.column_name;</span><br><span class="line"><span class="comment">--or</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column_name=table2.column_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">--right join</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s) </span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column_name=table2.column_name;</span><br><span class="line"><span class="comment">--or</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column_name=table2.column_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">--full outer join</span></span><br><span class="line"><span class="comment">--NOT SUPPORT IN MYSQL  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">--self join</span></span><br><span class="line"><span class="keyword">SELECT</span> a.column_name, b.column_name...  </span><br><span class="line"><span class="keyword">FROM</span> table1 a, table1 b</span><br><span class="line"><span class="keyword">WHERE</span> a.common_field = b.common_field;</span><br><span class="line"></span><br><span class="line"><span class="comment">--cross join</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> T1</span><br><span class="line"><span class="keyword">CROSS</span> <span class="keyword">JOIN</span> T2;</span><br></pre></td></tr></table></figure>
<h5 id="Union-or-Intersect"><a href="#Union-or-Intersect" class="headerlink" title="Union or Intersect"></a>Union or Intersect</h5><ul>
<li>The combined queries are usually known as unions or compound queries.</li>
<li>The INTERSECT operator is a set operator that returns only distinct rows of two queries.</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Using UNION  </span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_state <span class="keyword">IN</span> (<span class="string">'IL'</span>,<span class="string">'IN'</span>,<span class="string">'MI'</span>)</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> CUST_NAME = <span class="string">'fUN4All'</span>;</span><br><span class="line"><span class="comment">--Equal to </span></span><br><span class="line"><span class="keyword">SELECT</span> cust_name, cust_contact, cust_email</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">WHERE</span> cust_state <span class="keyword">IN</span> (<span class="string">'IL'</span>,<span class="string">'IN'</span>,<span class="string">'MI'</span>) <span class="keyword">OR</span> CUST_NAME = <span class="string">'fUN4All'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Using UNION ALL  </span></span><br><span class="line"><span class="comment">--Don't eliminate duplicates  </span></span><br><span class="line"><span class="keyword">SELECT</span> City <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">UNION</span> ALL</span><br><span class="line"><span class="keyword">SELECT</span> City <span class="keyword">FROM</span> Suppliers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> City;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Using Intersect </span></span><br><span class="line"><span class="comment">--The order and the number of columns must be the same.</span></span><br><span class="line"><span class="comment">--The data types of the corresponding columns must be compatible.</span></span><br><span class="line"><span class="comment">--Intersect = DISTINCT + INNER JOIN</span></span><br><span class="line"><span class="comment">--INTERSECT=DISTINCT + IN</span></span><br><span class="line">(<span class="keyword">SELECT</span> column_list </span><br><span class="line"><span class="keyword">FROM</span> table_1)</span><br><span class="line"><span class="keyword">INTERSECT</span></span><br><span class="line">(<span class="keyword">SELECT</span> column_list</span><br><span class="line"><span class="keyword">FROM</span> table_2);</span><br></pre></td></tr></table></figure>
<h5 id="Insert-or-Update-or-Delete-Rows"><a href="#Insert-or-Update-or-Delete-Rows" class="headerlink" title="Insert or Update or Delete Rows"></a>Insert or Update or Delete Rows</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Inserting a single complete row insert into "tablename"</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">"tablename"</span> (first_column,...last_column)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="keyword">first_value</span>,...last_value);</span><br><span class="line"></span><br><span class="line"><span class="comment">--Inserting a single partial row  </span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customers (CustomerName, City, Country)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'Cardinal'</span>, <span class="string">'Stavanger'</span>, <span class="string">'Norway'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--Insert + Select </span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> tasks;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tasks_1 <span class="keyword">like</span> tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tasks_1</span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> tasks;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Update a column </span></span><br><span class="line"><span class="keyword">UPDATE</span> [<span class="keyword">LOW_PRIORITY</span>] [<span class="keyword">IGNORE</span>] table_name </span><br><span class="line"><span class="keyword">SET</span> </span><br><span class="line">  column_name1 = expr1,</span><br><span class="line">  column_name2 = expr2,</span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">  condition;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Using UPDATE with </span></span><br><span class="line">INNER JOIN|LEFT JOIN </span><br><span class="line"><span class="keyword">UPDATE</span> employees</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span></span><br><span class="line">merits <span class="keyword">ON</span> employees.performance = merits.performance </span><br><span class="line"><span class="keyword">SET</span> </span><br><span class="line">salary = salary + salary * <span class="number">0.015</span></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">merits.percentage <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--Delete a row </span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">table</span>   </span><br><span class="line">[<span class="keyword">WHERE</span> conditions] [<span class="keyword">ORDER</span> <span class="keyword">BY</span> ...] [<span class="keyword">LIMIT</span> <span class="keyword">rows</span>]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="string">"tablename"</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="string">"columnname"</span> </span><br><span class="line"><span class="keyword">OPERATOR</span> <span class="string">"value"</span> </span><br><span class="line">[<span class="keyword">and</span>|<span class="keyword">or</span> <span class="string">"column"</span> </span><br><span class="line"><span class="keyword">OPERATOR</span> <span class="string">"value"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">--Delete data from multiple tables  </span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_1, table_2,...</span><br><span class="line"><span class="keyword">USING</span> <span class="keyword">table</span>-refs</span><br><span class="line">[<span class="keyword">WHERE</span> conditions]</span><br><span class="line"> </span><br><span class="line"><span class="comment">--Using DELETE with INNER JOIN|LEFT JOIN, just change employees.  </span></span><br><span class="line"><span class="comment">--you can delete records associated with officeCode 5 from both offices and employees tables</span></span><br><span class="line"><span class="keyword">DELETE</span> offices, employees </span><br><span class="line"><span class="keyword">FROM</span> offices</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> employees </span><br><span class="line"><span class="keyword">ON</span> employees.officeCode = employees.officeCode</span><br><span class="line"><span class="keyword">WHERE</span> offices.officeCode = <span class="number">5</span></span><br><span class="line">//<span class="keyword">Now</span>, </span><br><span class="line"> </span><br><span class="line"><span class="keyword">DELETE</span> T1</span><br><span class="line"><span class="keyword">FROM</span> T1 </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> T2 <span class="keyword">ON</span> T1.key = T2.key </span><br><span class="line"><span class="keyword">WHERE</span> T2.key <span class="keyword">IS</span> <span class="literal">NULL</span></span><br></pre></td></tr></table></figure>
<h5 id="Alter-or-Create-or-Drop-Table"><a href="#Alter-or-Create-or-Drop-Table" class="headerlink" title="Alter or Create or Drop Table"></a>Alter or Create or Drop Table</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tableName [<span class="keyword">LIKE</span>] anothertableName  </span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customers_archive <span class="keyword">LIKE</span> customers;</span><br><span class="line"><span class="comment">--or</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> customers_archive</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> customers</span><br><span class="line"></span><br><span class="line"><span class="comment">--Drop a table</span></span><br><span class="line"><span class="comment">--The drop table command is used to delete a table and all rows in the table. drop table "tablename"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--DELETE &amp; DROP</span></span><br><span class="line"><span class="comment">--Deleting all of the records in the table leaves the table including column and constraint information. --Dropping the table removes the table definition as well as all of its rows.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--Alter</span></span><br><span class="line"><span class="comment">--Alter is very useful when you want to change a name of your table, any table field or if you want to add or --delete an existing column in table </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> testalter_tbl <span class="keyword">DROP</span> i;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> testalter_tbl <span class="keyword">ADD</span> i <span class="built_in">INT</span> <span class="keyword">FIRST</span>;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> testalter_tbl <span class="keyword">MODIFY</span> c <span class="built_in">CHAR</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">CHANGE</span> old_column_name new_column_name new_column_definition;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">COLUMN</span> columnName <span class="keyword">type</span> <span class="keyword">AFTER</span> othercolumnName</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">ADD</span> FOREIGN <span class="keyword">KEY</span> columnName <span class="keyword">REFERENCES</span> <span class="keyword">table</span>(columnName)</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> constraint_name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">DROP</span> FOREIGN <span class="keyword">KEY</span> column_name</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tableName</span><br><span class="line"><span class="keyword">ADD</span> PRIMARY <span class="keyword">KEY</span>(columnName)</span><br></pre></td></tr></table></figure>
<h5 id="Create-Constraints-for-Table"><a href="#Create-Constraints-for-Table" class="headerlink" title="Create Constraints for Table"></a>Create Constraints for Table</h5><ul>
<li>An index can be created in a table to find data more quickly and efficiently.</li>
<li>Efficiently checking in a middle size </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Create constraint 1 </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> index_name</span><br><span class="line"><span class="keyword">ON</span> table_name (column_name)</span><br></pre></td></tr></table></figure>
<h5 id="Truncate-Table"><a href="#Truncate-Table" class="headerlink" title="Truncate Table"></a>Truncate Table</h5><p>It perform the same function as a DELETE without a WHERE<br>If you are using InnoDB tables, MySQL will check if there are any foreign key constraints available in the tables before deleting data. The following are cases:</p>
<ul>
<li>If the table has any foreign key constraints, the TRUNCATE TABLE statement deletes rows one by one. If the foreign key constraint has DELETE CASCADE action, the corresponding rows in the child tables are also deleted.</li>
<li>If the foreign key constraint does not specify the DELETE CASCADE action, the TRUNCATE TABLE deletes rows one by one, and it will stop and issue an error when it encounters a row that is referenced by a row in a child table.</li>
<li>If the table does not have any foreign key constraint, the TRUNCATE TABLEstatement drops the table and recreates a new empty one with the same structure, which is faster and more efficient than using the DELETE statement especially for big tables.</li>
</ul>
<p>If you are using other storage engines, the TRUNCATE TABLE statement just drops and recreates a new table.<br>Notice that the TRUNCATE TABLE statement resets auto increment value to zero if the table has an AUTO_INCREMENT column.</p>
<p>In addition, the TRUNCATE TABLE statement does not use the DELETE statement, therefore, the DELETE triggers associated with the table will not be invoked.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Truncate table  </span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> [database_name.] [schema_name.] table_name</span><br><span class="line">  [ <span class="keyword">WITH</span> ( <span class="keyword">PARTITIONS</span> ( partition_number</span><br><span class="line">                      | partition_number <span class="keyword">TO</span> partition_number ) ]  </span><br><span class="line"></span><br><span class="line"><span class="comment">--TRUNCATE &amp; DELETE</span></span><br><span class="line"><span class="comment">--The difference between this two is that DELETE can roll back if you choose, but TRUNCATE will not</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> tableName;</span><br><span class="line"><span class="comment">--or</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> tableName;</span><br></pre></td></tr></table></figure>
<h5 id="Replace-Table"><a href="#Replace-Table" class="headerlink" title="Replace Table"></a>Replace Table</h5><blockquote>
<p>If the new row already exist, the REPLACE statement deletes the old row first and then inserts a new row. In some cases, the REPLACE statement updates the existing row only.</p>
</blockquote>
<ul>
<li>The Replace statement first inserts the new row into the cities table with the information provided by the column list. The insertion fails because the row with id 2 already exists in the cities table, therefore, MySQL raises a duplicate-key error.</li>
<li>The Replace statement then updates the row that has the key specified in the value of the id column. In the normal process, it would delete the old row with conflict id first and then inserts a new row.</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REPLACE</span> <span class="keyword">INTO</span> cities(<span class="keyword">id</span>,population)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="number">3696820</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">REPLACE</span> <span class="keyword">INTO</span> table_name(column_list)</span><br><span class="line"><span class="keyword">VALUES</span>(value_list);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name(column_list)</span><br><span class="line"><span class="keyword">VALUES</span>(value_list);</span><br><span class="line"></span><br><span class="line"><span class="comment">--replace and update</span></span><br><span class="line"><span class="keyword">REPLACE</span> <span class="keyword">INTO</span> <span class="keyword">table</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">column</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">REPLACE</span> <span class="keyword">INTO</span> citites</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">id</span> = <span class="number">4</span>, <span class="keyword">name</span> = <span class="string">'Phoenix'</span>, population = <span class="number">1768980</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--raise error</span></span><br><span class="line"><span class="keyword">UPDATE</span> citites</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">id</span> = <span class="number">4</span>, <span class="keyword">name</span> = <span class="string">'Phoenix'</span>, population = <span class="number">1768980</span>;</span><br></pre></td></tr></table></figure>
<h5 id="ADVANCE-MySQL-Transactions"><a href="#ADVANCE-MySQL-Transactions" class="headerlink" title="ADVANCE - MySQL Transactions"></a>ADVANCE - MySQL Transactions</h5><p>​    </p>
<h5 id="Properties-of-Transactions"><a href="#Properties-of-Transactions" class="headerlink" title="Properties of Transactions"></a>Properties of Transactions</h5><ul>
<li>Atomicity: ensure all operations within the work unit are completed. </li>
<li>Consistency: ensure the database properly changes states</li>
<li>Isolation: ensure transactions to operate independently and transparent to each other</li>
<li>Durability: ensure the result persists in case of a system failure commit and rollback (for different databases): </li>
<li>Commit command should be issued if the transaction is completed(need commit to update)</li>
<li>If a failure occurs, a rollback command should be issued to return in the transaction to its previous state.(if any operation within the transaction fails, the entire transaction will fail. For atomicity)</li>
</ul>
<p>There are some statements cannot use within a transaction.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> / <span class="keyword">ALTER</span> / <span class="keyword">DROP</span> <span class="keyword">DATABASE</span></span><br><span class="line"><span class="keyword">CREATE</span> / <span class="keyword">ALTER</span> / <span class="keyword">DROP</span> / <span class="keyword">RENAME</span> / <span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span></span><br><span class="line"><span class="keyword">CREATE</span> / <span class="keyword">DROP</span> <span class="keyword">INDEX</span></span><br><span class="line"><span class="keyword">CREATE</span> / <span class="keyword">DROP</span> <span class="keyword">EVENT</span></span><br><span class="line"><span class="keyword">CREATE</span> / <span class="keyword">DROP</span> <span class="keyword">FUNCTION</span></span><br><span class="line"><span class="keyword">CREATE</span> / <span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span></span><br></pre></td></tr></table></figure>
<h5 id="ADVANCE-Prepared-Statement"><a href="#ADVANCE-Prepared-Statement" class="headerlink" title="ADVANCE - Prepared Statement"></a>ADVANCE - Prepared Statement</h5><blockquote>
<p>make your queries execute faster and more secure. </p>
</blockquote>
<p>PREPARE-&gt;EXECUTE-&gt;DEALLOCATE PREPARE</p>
<ul>
<li>Use the prepare statement to prepare a statement for execution. Question mark is a placeholder for the productCode.  #prepared statement <a href="http://www.mysqltutorial.org/mysql-prepared-statement.aspx" target="_blank" rel="noopener">http://www.mysqltutorial.org/mysql-prepared-statement.aspx</a></li>
<li>Declare a produceCode variable and set it values to ‘S10_1678’ </li>
<li>Use DEALLOCATE PREPARE to release PREPARE statement.  </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PREPARE</span> stmt1 <span class="keyword">from</span> <span class="string">'SELECT productCode, productName</span></span><br><span class="line"><span class="string">FROM products</span></span><br><span class="line"><span class="string">WHERE productCode=?'</span>;</span><br><span class="line"><span class="keyword">SET</span> @pc=<span class="string">'S10_1678'</span>;</span><br><span class="line"><span class="keyword">EXECUTE</span> stmt1 <span class="keyword">USING</span> @pc;</span><br><span class="line"><span class="keyword">DEALLOCATE</span> <span class="keyword">PREPARE</span> stmt1;</span><br></pre></td></tr></table></figure>
<h5 id="ADVANCE-triggers"><a href="#ADVANCE-triggers" class="headerlink" title="ADVANCE - triggers"></a>ADVANCE - triggers</h5><p>A set of SQL statements stored in the database catalog. And is executed whenever an event associated with a table occurs. (a special type of stored procedure). The main difference between a trigger and a stored procedure is that a trigger is called automatically when a data modification event is made whereas a store procedure must be called explicitly.<br>Advantages<br>  • SQL triggers provide an alternative way to check the integrity of data.<br>  • SQL triggers can catch errors in business logic in the database layer.<br>  • SQL triggers provide an alternative way to run scheduled tasks. By using SQL triggers, you don’t have to wait to run the scheduled tasks because the triggers are invoked  automatically before or after a change  is made to the data in the tables.<br>  • SQL triggers are very useful to audit the changes of data in tables.<br>Disadvantages<br>  • SQL triggers only can provide an extended validation and they cannot replace all the validations. Some simple validations have to be done in the application layer. For example, you can validate user’s inputs in the client side by using JavaScript or in the server side using server-side scripting languages such as JSP, PHP, ASP.NET, Perl, etc.<br>  • SQL triggers are invoked and executed invisible from the client applications, therefore, it is difficult to figure out what happen in the database layer.<br>  • SQL triggers may increase the overhead of the database server.</p>
<p>Important words in SQL triggers:<br>BEFORE INSERT – activated before data is inserted into the table.<br>AFTER INSERT – activated after data is inserted into the table.<br>BEFORE UPDATE – activated before data in the table is updated.<br>AFTER UPDATE – activated after data in the table is updated.<br>BEFORE DELETE – activated before data is removed from the table.<br>AFTER DELETE – activated after data is removed from the table.</p>
<p>Triggers storage:<br>MySQL stores triggers in a data directory e.g., /data/classicmodels/ with the files named tablename.TRG and triggername.TRN :<br>The tablename.TRG file maps the trigger to the corresponding table.<br>the triggername.TRN file contains the trigger definition.<br>LIMITATIONS(CANNOT DO):<br>• Use SHOW, LOAD DATA, LOAD TABLE, BACKUP DATABASE, RESTORE, FLUSH and RETURN statements.<br>• Use statements that commit or rollback implicitly or explicitly such as COMMIT , ROLLBACK , START TRANSACTION , LOCK/UNLOCK TABLES , ALTER , CREATE , DROP ,  RENAME , etc.<br>• Use prepared statements such as PREPARE, EXECUTE, etc.<br>• Use dynamic SQL statements. </p>
<p>Syntax:<br>CREATE TRIGGER trigger_name<br>trigger_time trigger_event<br>ON table_name<br>FOR EACH ROW<br>BEGIN<br>…<br>END;<br>Drop triggers:<br>DROP TIGGER table_name.trigger_name;</p>
<h5 id="Views-table"><a href="#Views-table" class="headerlink" title="Views table"></a>Views table</h5><blockquote>
<p>like Excel, It is a logic table, which  contains no value but have table structure, you can query data against it.<br>​          </p>
<ul>
<li>Database system stores database views as a SQL SELECT statement with joins. When the data of the tables changes, the view reflects that changes.</li>
<li>View is in SHOW TABLES results. Use SHOW FULL TABLE </li>
</ul>
</blockquote>
<p>Advantages  Syntax:</p>
<ul>
<li>ALLOW you to simplify complex queries. You can hide complexity of underlying tables to the end-users  CREATE </li>
<li>Helps limit data access to specific users. To expose non-sensitive data to specific group of users.      [ALGORITHM = {MERGE  | TEMPTABLE | UNDEFINED}]</li>
<li>Provides extra security layer. Can create read-only view  VIEW [database_name].[view_name] </li>
<li>Enables computed columns  AS</li>
<li>Enable backward compatibility.  [SELECT  statement]</li>
</ul>
<p>Disadvantages</p>
<ul>
<li>Querying data from a database view can be slow, especially the view is created based on other views</li>
<li>Tables dependency: you create a view based on underlying tables</li>
</ul>
<h5 id="Stored-Procedures-table"><a href="#Stored-Procedures-table" class="headerlink" title="Stored Procedures table"></a>Stored Procedures table</h5><p>A stored procedure can be invoked by triggers.<br>Major Diff: A Function can be used in the SQL Queries while a procedure cannot be used in SQL queries </p>
<p>Advantages<br>• Increase the performance of the applications. Stored procedures are compiled and stored in the database. If an application uses a stored procedure multiple times in a single connection, the compiled version is used, or the stored procedure works like a query.<br>• Help reduce the traffic between application and database server.<br>• Can reusable and transparent to any application.<br>• Are secure. The database administrator can grant appropriate permissions to applications that access stored procedures</p>
<p>Disadvantages<br>• If you use a lot of stored procedures, the memory usage of every connection will increase substantially<br>• constructs of stored procedures make it more difficult to develop stored procedures<br>• Difficult to debug stored procedures<br>• Not easy to develop and maintain stored procedures.</p>
<p>Examples:<br>Create procedure  – stored procedure<br>  delimiter //<br>  – not related to the sp syntax. change the ; to //, we avoid mysql tool interpret<br>  – at a time and pass the sp to the server as a whole. // at the end indicates the end<br>  – of the stored procedure.<br>  create procedure GetAllProducts()<br>  – name of procedure is GetAllProducts<br>          begin<br>      – begin and end is the body of the stored procedure<br>      select * from products;<br>      end//<br>  delimiter ;<br>Call procedure  CALL STORED_PROCEDURE_NAME();<br>Declare variable  DECLARE variable_name datatype(size) DEFAULT default_value;<br>Parameters  IN[DEFAULT]/ OUT/ INOUTDEFINE A PARAMETER: MODE param_name param_type(param_size)</p>
<h5 id="Some-Important-MySQL-Function"><a href="#Some-Important-MySQL-Function" class="headerlink" title="Some Important MySQL Function"></a>Some Important MySQL Function</h5><p>Source:<br>FIELD<br>CAST like str()/int(): convert a value of any type into a value(BINARY, CHAR, DATE, DATETIME, TIME, DECIMAL, SIGNED, UNSIGNED)<br>IFNULL() : IFNULL(expression_1,expression_2); The IFNULL function returns expression_1 if expression_1 is not NULL ; otherwise, it returns expression_2.<br>RAND():generates a random value for each row in the table.<br>select *<br>from employees<br>where jobtitle = ‘Sales Rep’<br>ORDER BY RAND()<br>LIMIT 1;<br>NOW()/ CURDATE()/CURTIME()<br>DATE_ADD(date, interval number type)<br>GROUP_CONCAT():<br>If you do not specify a separator, the GROUP_CONCAT function uses a comma (,) as the default separator.<br>SELECT<br>    GROUP_CONCAT(DISTINCT v<br>        ORDER BY v ASC<br>        SEPARATOR ‘;’)<br>FROM<br>    t;<br>SELECT user();<br>SELECT SESSION_USER();<br>SELECT system_user();<br>SELECT VERSION();</p>
<h4 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h4><ul>
<li>SQL Practice Problems </li>
<li>Sams Teach Yourself SQL in 10 Minutes </li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Database/">Database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-03012016-1651"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/03/01/03012016-1651/">Robust and Optimal Stochastic Resource Allocation on Transportation Networks Subject to Disruptive Events</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/03/01/03012016-1651/" class="article-date">
	  <time datetime="2016-03-01T21:51:37.000Z" itemprop="datePublished">2016-03-01</time>
	</a>

      
    <a class="article-category-link" href="/categories/Python/">Python</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <!-- 
[img id]: https://www.hdwallpapers.net/previews/water-plant-close-up-979.jpg  "Optional title attribute"
![Alt text][img id] -->
<blockquote>
<p> The models I built for solving resource allocation problem on transportation networks. Different size of directed graphs have been considered, and comparison between models have been made. Python Gurobi is used to realize the optimization process.</p>
</blockquote>
<p>Resource allocation is the assignment of available resources to various uses, which is closely related to the network interdiction problem depends on our objects. The network interdiction problem ask to find a special number of edges whose removal from the network minimizes the maximum flow. Various examples could be found in areas such as military planning, hospital infection control or poison food interdiction. Our goals in such examples are the same: to determine the worst-case scenario, after the realization of uncertainty. </p>
<blockquote class="pullquote right"><p>contentf af afajkhdfjk</p>
</blockquote>
<p>Imagine that there are refineries that process several million barrels of crude oil every day, and pipelines are used to transport crude oil to consumption centers. There are intermediate pump stations in long distance networks to keep the crude oil moving smoothly. However, pump stations and pipelines may be out of service. Hence, it is important to manage the oil transportation system in such a way that it is capable of coping with such situations and to reduce the amount of storage of crude oil at consumption centers as much as possible. </p>
<p>The bold red lines in the above graphs are the critical edges that determines the maximum flow, assuming the realization of uncertainty. </p>
  <svg viewbox="0 0 560 168" class="header-lockup"><br/>  <text transform="matrix(1 0 0 1 7 126.14385)"><tspan x="80" y="-45" font-family="Righteous" font-size="70px">QING</tspan><br/><br/><br/><svg viewbox="0 0 560 168" class="header-lockup"><br/><text transform="matrix(1 0 0 1 7 126.14385)"><tspan x="80" y="-45" font-family="Righteous" font-size="70px">QING</tspan><br/><br/><tspan x="150" y="28" font-family="Righteous" font-size="69px">JOURNAL</tspan><br/><br/></text><br/><br/><circle fill="#e64040" stroke="#e64040" stroke-width="4" cx="250" cy="91" r="22"/><br/><text class="words animate-right" transform="matrix(1 0 0 1 235.5 102.4)"><br/>  <tspan x="0" y="0" font-family="Pacifico" font-size="22px" fill="white">‘S</tspan><br/></text><br/><br/></svg>

<p>```</p>
</text></svg>
      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Maximum-Flow/">Maximum Flow</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Optimization/">Optimization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  


</section>
        
      </div>
      
        <div align="center" style="margin-top: 30px;"><hr class="hr" style="margin:0px; height:3px;"></div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2014 - 2018 Qing&#39;s Journey All Rights Reserved.</p>
	      
	      
  		   	<p id="copyRightCn">Qing Wei hold copyright</p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>


  <script src="/js/home.js"></script>
















  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Qing&#39;s Journey
          </div>
          <div class="panel-body">
            Copyright © 2018 Qing Wei All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>